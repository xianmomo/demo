<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sf.itmro.business.dao.SysFileMapper">
	<resultMap id="BaseResultMap" type="com.sf.itmro.business.model.SysFile">
		<id column="file_id" property="fileId" jdbcType="INTEGER" />
		<result column="file_name" property="fileName" jdbcType="VARCHAR" />
		<result column="file_upload_name" property="fileUploadName" jdbcType="VARCHAR" />
		<result column="file_path" property="filePath" jdbcType="VARCHAR" />
		<result column="file_statu" property="fileStatu" jdbcType="VARCHAR" />
		<result column="apply_id" property="applyId" jdbcType="VARCHAR" />
		<result column="create_id" property="createId" jdbcType="VARCHAR" />
		<result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
		<result column="modify_id" property="modifyId" jdbcType="VARCHAR" />
		<result column="modify_time" property="modifyTime" jdbcType="TIMESTAMP" />
	</resultMap>
	<sql id="Base_Column_List">
		file_id, file_name, file_upload_name, file_path, file_statu,apply_id, create_id, create_time,
		modify_id, modify_time
	</sql>
	<sql id="Query_where">
		<where>
			<if test="fileName != null and fileName!=''">
				and file_name = #{fileName}
			</if>
			<if test="fileUploadName != null and fileUploadName!=''">
				and file_upload_name = #{fileUploadName}
			</if>
			<if test="fileStatu != null and fileStatu!=''">
				and file_statu = #{fileStatu}
			</if>
			<if test="applyId != null and applyId!=''">
				and apply_id = #{applyId}
			</if>
			<if test="applyIdIsNull != null and applyIdIsNull!=''">
				and apply_id is null
			</if>
			<if test="fileStatuIn != null and fileStatuIn!=''">
				and file_statu in (${fileStatuIn})
			</if>
		</where>
	</sql>

	<select id="questData" resultMap="BaseResultMap" parameterType="map">
		select * from sys_file
		<include refid="Query_where" />
	</select>
	
	<select id="queryProcessFileByApply" resultMap="BaseResultMap">
		select sf.* from sys_file sf,tb_svn_apply tsa where sf.apply_id=tsa.apply_id and sf.file_statu='0' and tsa.apply_statu='3' order by sf.apply_id,sf.create_time
	</select>

	<insert id="insertSelective" parameterType="com.sf.itmro.business.model.SysFile">
		insert into sys_file
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="fileId != null">
				file_id,
			</if>
			<if test="fileName != null">
				file_name,
			</if>
			<if test="fileUploadName != null">
				file_upload_name,
			</if>
			<if test="filePath != null">
				file_path,
			</if>
			<if test="fileStatu != null">
				file_statu,
			</if>
			<if test="applyId != null">
				apply_id,
			</if>
			<if test="createId != null">
				create_id,
			</if>
			<if test="createTime != null">
				create_time,
			</if>
			<if test="modifyId != null">
				modify_id,
			</if>
			<if test="modifyTime != null">
				modify_time,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="fileId != null">
				#{fileId,jdbcType=INTEGER},
			</if>
			<if test="fileName != null">
				#{fileName,jdbcType=VARCHAR},
			</if>
			<if test="fileUploadName != null">
				#{fileUploadName,jdbcType=VARCHAR},
			</if>
			<if test="filePath != null">
				#{filePath,jdbcType=VARCHAR},
			</if>
			<if test="fileStatu != null">
				#{fileStatu,jdbcType=VARCHAR},
			</if>
			<if test="applyId != null">
				#{applyId,jdbcType=VARCHAR},
			</if>
			<if test="createId != null">
				#{createId,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				#{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyId != null">
				#{modifyId,jdbcType=VARCHAR},
			</if>
			<if test="modifyTime != null">
				#{modifyTime,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	
	<select id="load" parameterType="com.sf.itmro.business.model.SysFile" resultMap="BaseResultMap">
		select * from sys_file where file_id=#{fileId,jdbcType=INTEGER}
	</select>
	
	<delete id="deleteData" parameterType="com.sf.itmro.business.model.SysFile">
		delete from sys_file where file_id=#{fileId,jdbcType=INTEGER}
	</delete>

	<update id="updateByPrimaryKeySelective" parameterType="com.sf.itmro.business.model.SysFile">
		update sys_file
		<set>
			<if test="fileName != null">
				file_name = #{fileName,jdbcType=VARCHAR},
			</if>
			<if test="fileUploadName != null">
				file_upload_name = #{fileUploadName,jdbcType=VARCHAR},
			</if>
			<if test="filePath != null">
				file_path = #{filePath,jdbcType=VARCHAR},
			</if>
			<if test="fileStatu != null">
				file_statu = #{fileStatu,jdbcType=VARCHAR},
			</if>
			<if test="applyId != null">
				apply_id = #{applyId,jdbcType=VARCHAR},
			</if>
			<if test="createId != null">
				create_id = #{createId,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				create_time = #{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyId != null">
				modify_id = #{modifyId,jdbcType=VARCHAR},
			</if>
			<if test="modifyTime != null">
				modify_time = #{modifyTime,jdbcType=TIMESTAMP},
			</if>
		</set>
		where file_id = #{fileId,jdbcType=INTEGER}
	</update>
</mapper>